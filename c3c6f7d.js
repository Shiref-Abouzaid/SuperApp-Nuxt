(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{482:function(t,r,e){"use strict";e(94),e(24);var c={props:["product"],data:function(){return{quantity:0,wishlisted:!1}},created:function(){var t=this,r=this.$store.getters["cart/cartProducts"],e=this.$store.getters["wishlist/wishlist"];if(this.product){var c=r.find((function(r){return r.id==t.product.id}));c&&(this.quantity=c.quantity);var o=e.find((function(r){return r.id==t.product.id}));o&&(this.wishlisted=o.wishlisted)}},computed:{sale:function(){return this.product.sale_price?Math.ceil(this.product.sale_price/this.product.regular_price*100):null},productName:function(){var t=this.product.name;return t.length>30?t.substr(0,30)+"...":t},shortDescription:function(){var desc=this.product.short_description;return desc.length>40?desc.substr(0,40)+"...":desc},locale:function(){return this.$store.getters["locale/locale"]},currSymbol:function(){return this.$store.getters["currency/symbol"]}},methods:{addToCart:function(){this.quantity++;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,quantity:this.quantity,price:this.product.sale_price?this.product.sale_price:this.product.regular_price,vendorId:this.product.vendor_id};console.log("quantity >>>>>>>> ",this.quantity),this.$store.dispatch("cart/addOrUpdateCartProduct",t),console.log(this.$store.getters["cart/cartProducts"]),console.log("total >> ",this.$store.getters["cart/totalQuantity"]),this.$store.getters["auth/isAuthenticated"]&&1==this.quantity?this.$store.dispatch("cart/saveCartProduct",t):this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/updateCartProduct",t)},removeFromCart:function(){this.quantity--;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,quantity:this.quantity,price:this.product.sale_price?this.product.sale_price:this.product.regular_price,vendorId:this.product.vendor_id};0==this.quantity?(this.$store.dispatch("cart/removeCartProduct",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/deleteCartProduct",t.id)):(this.$store.dispatch("cart/addOrUpdateCartProduct",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/updateCartProduct",t)),console.log(this.$store.getters["cart/cartProducts"]),console.log("total >> ",this.$store.getters["cart/totalQuantity"])},deleteProduct:function(){console.log("delete"),this.quantity=0;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,quantity:this.quantity,price:this.product.sale_price?this.product.sale_price:this.product.regular_price,vendorId:this.product.vendor_id};console.log("delete product >> ",t),this.$store.dispatch("cart/removeCartProduct",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/deleteCartProduct",t.id)},singleProduct:function(t){console.log("one product >>> ",t),this.$store.commit("setSingleProduct",t)},addToWishlist:function(){this.wishlisted=!this.wishlisted;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,regularPrice:this.product.regular_price,salePrice:this.product.sale_price,stockStatus:+this.product.stock_status,vendorId:this.product.vendor_id,wishlisted:this.wishlisted};1==this.wishlisted?(this.$store.dispatch("wishlist/addToWishlist",t),console.log("wishlist ",this.$store.getters["wishlist/wishlist"]),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("wishlist/saveToWishlist",this.product.id)):(this.$store.dispatch("wishlist/removeFromWishlist",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("wishlist/deleteFromWishlist",this.product.id))}}},o=e(39),component=Object(o.a)(c,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return t.product&&!t.product.deleted_at?e("div",{staticClass:"product"},[e("div",{staticClass:"product-container"},[t.product.vendor_details?e("div",{staticClass:"vendor-img"},[e("img",{attrs:{src:t.product.vendor_details.image_url,alt:""}})]):t._e(),t._v(" "),t.sale?e("div",{staticClass:"sale"},[e("span",[t._v(t._s(100-t.sale)+"%")])]):t._e(),t._v(" "),e("div",{staticClass:"card"},[e("nuxt-link",{attrs:{to:"/"+t.locale+"/services/store/product/"+t.product.id+"/"+t.product.name}},[e("div",{staticClass:"card-hover"},[e("div",{staticClass:"product-img"},[e("img",{staticClass:"card-img-top",attrs:{src:t.product.image_url,alt:"..."}})]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"info"},[e("div",{staticClass:"rate"},[e("span",[t._v(t._s(t.product.total_rates))]),t._v(" "),e("img",{attrs:{src:"/images/icons/svg/vendor-star.svg",alt:""}})]),t._v(" "),e("div",{staticClass:"price"},[t.product.sale_price?e("span",{staticClass:"discount"},[t._v(t._s(t.currSymbol)+t._s(t.product.regular_price))]):t._e(),t._v(" "),e("span",{staticClass:"original"},[t._v(t._s(t.currSymbol)+t._s(t.product.sale_price?t.product.sale_price:t.product.regular_price))])])]),t._v(" "),e("h6",[t._v(t._s(t.productName))]),t._v(" "),e("p",[t._v(t._s(t.shortDescription))])])])]),t._v(" "),e("div",{staticClass:"actions"},[e("div",{staticClass:"row no-gutters actions-container"},[e("div",{staticClass:"col-6 wishlist-btn",class:{"hide-btn":t.quantity},on:{click:t.addToWishlist}},[t.wishlisted?t._e():e("img",{attrs:{src:"/images/icons/svg/heart-empty.svg",alt:""}}),t._v(" "),t.wishlisted?e("img",{attrs:{src:"/images/icons/svg/heart-filled.svg",alt:""}}):t._e(),t._v(" "),e("span",[t._v(t._s(t.$t("single_product.wishlist_button")))])]),t._v(" "),+t.product.stock_status?[e("div",{staticClass:"col-6 add-cart-btn",class:{"hide-btn":t.quantity>0},on:{click:t.addToCart}},[e("img",{attrs:{src:"/images/icons/svg/shopping-bag.svg",alt:""}}),t._v(" "),e("span",[t._v(t._s(t.$t("single_product.add_button")))])]),t._v(" "),e("div",{staticClass:"col-12 control",class:{hide:0==t.quantity}},[e("div",{staticClass:"row no-gutters"},[e("div",{staticClass:"col-10"},[e("div",{staticClass:"quantity"},[e("span",{staticClass:"minus",on:{click:t.removeFromCart}},[t._v("-")]),t._v(" "),e("span",{staticClass:"count"},[t._v(t._s(t.quantity))]),t._v(" "),e("span",{staticClass:"plus",on:{click:t.addToCart}},[t._v("+")])])]),t._v(" "),e("div",{staticClass:"col-2",on:{click:t.deleteProduct}},[t._m(1)])])])]:e("div",{staticClass:"col-6"},[t._m(0)])],2)])],1)])]):t._e()}),[function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"out-stock"},[r("span",[this._v("OUT OF STOCK")])])},function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"remove"},[r("img",{attrs:{src:"/images/icons/svg/icon-remove.svg",alt:""}})])}],!1,null,null,null);r.a=component.exports},602:function(t,r,e){"use strict";e.r(r);e(58);var c=e(21),o=e(16),d=e.n(o),n={components:{appSingleProduct:e(482).a},data:function(){return{products:[]}},fetch:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d.a.post("/my/product/search/skip/0/take/6",{search:t.$route.query.keyword});case 3:e=r.sent,t.products=e.data.data,console.log("products results >> ",e.data.data),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log("error >> ",r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}},l=e(39),component=Object(l.a)(n,(function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"all-results"},[this._m(0),this._v(" "),r("div",{staticClass:"single-result"},[r("div",{staticClass:"row"},this._l(this.products,(function(t){return r("div",{key:t.id,staticClass:"col-6"},[r("app-single-product",{attrs:{product:t}})],1)})),0)])])}),[function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"search-heading"},[r("p",[this._v("results")])])}],!1,null,null,null);r.default=component.exports}}]);