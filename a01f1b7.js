(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{611:function(e,t,r){"use strict";r.r(t);r(6),r(59),r(58);var n=r(21),o=r(16),c=r.n(o),l={layout:"withoutNavbar",data:function(){return{user:{},coverImg:"/images/background-placeholder.png",profileURL:"/images/placeholder.jpg",firstName:"",lastName:"",bio:"",isFriend:!1,friendRequestSent:!1,location:"Cairo, Egypt",education:"Faculty of Engineering - Cairo University",job:"Digital Product Designer",showpopover:!1,gallery:[]}},computed:{locale:function(){return this.$store.getters["locale/locale"]}},fetch:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("/my/social/profile/"+e.$route.params.userId);case 3:r=t.sent,console.log("user data >> ",r.data.data),e.user=r.data.data,console.log("status >> ","friend"==e.user["friendship-status"],e.user["friendship-status"]),"friend"==e.user["friendship-status"]?e.isFriend=!0:"friend-request-send"==e.user["friendship-status"]&&(e.friendRequestSent=!0),e.user.details&&(e.firstName=e.user.details.first_name,e.lastName=e.user.details.last_name),e.user.details.user_details&&(e.coverImg=e.user.details.user_details.cover_image_url,e.profileURL=e.user.details.user_details.image_url,e.bio=e.user.details.user_details.description,e.education=e.user.details.user_details.education,e.job=e.user.details.user_details.job_title,e.location=e.user.details.user_details.address),e.gallery=e.user.gallery.length>0?e.user.gallery:["/images/placeholder.jpg"],t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("error >> ",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},methods:{hidePopOver:function(){this.showpopover=!1},addFriend:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.friendRequestSent=!0,t.next=4,c.a.post("/my/social/friendrequests",{sender_user_id:e.$store.getters["auth/userId"],receiver_user_id:e.$route.params.userId},{headers:{Authorization:e.$store.getters["auth/token"]}});case 4:r=t.sent,console.log("add friend >> ",r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error >> ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},removeFriend:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.delete("/my/social/friends/user/"+e.$store.getters["auth/userId"]+"/friend/"+e.user.details.id);case 2:r=t.sent,console.log("deleted >> ",r),e.isFriend=!1,e.hidePopOver();case 6:case"end":return t.stop()}}),t)})))()},createChat:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.post("/my/chatting/initiate",{title:"private",users:[e.user.details.id,e.$store.getters["auth/userId"]],created_by:e.$store.getters["auth/userId"]});case 3:r=t.sent,console.log("initiated >> ",r.data.data),e.$router.push("/"+e.locale+"/social/chat/"+r.data.data.id),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error >> ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},d=r(39),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"social-my-profile"},[r("div",{staticClass:"social-profile-section"},[r("b-container",[r("div",{staticClass:"social-my-profile"},[r("div",{staticClass:"social-main"},[r("div",{staticClass:"cover",style:"background-image:url('"+(e.coverImg?e.coverImg:"/images/background-placeholder.png")+"')"},[r("div",{staticClass:"profile-image",style:"background-image:url('"+(e.profileURL?e.profileURL:"/images/placeholder.jpg")+"')"})]),e._v(" "),r("b-row",{staticClass:"social-name-bio m-0"},[r("b-col",{staticClass:"info pl-1 pr-1",attrs:{sm:"7"}},[r("h1",{staticClass:"title"},[e._v(e._s(e.firstName)+" "+e._s(e.lastName))]),e._v(" "),r("p",{staticClass:"m-0"},[e._v(e._s(e.bio))])]),e._v(" "),r("b-col",{staticClass:"message-block-add",attrs:{sm:"5"}},[e.isFriend?r("b-button",{staticClass:"friend-request-sent",attrs:{variant:"default"}},[r("b-img",{attrs:{src:"/images/icons/svg/social-friend-request-sent.svg",alt:"icon"}}),e._v(" "),r("span",[e._v("Friend")])],1):e._e(),e._v(" "),e.friendRequestSent||e.isFriend?e._e():r("b-button",{staticClass:"add-friend",attrs:{variant:"default"},on:{click:e.addFriend}},[r("b-img",{attrs:{src:"/images/icons/svg/social-friend-request.svg",alt:"icon"}}),e._v(" "),r("span",[e._v("Add Friend")])],1),e._v(" "),e.friendRequestSent?r("b-button",{staticClass:"friend-request-sent",attrs:{variant:"default"}},[r("b-img",{attrs:{src:"/images/icons/svg/social-friend-request-sent.svg",alt:"icon"}}),e._v(" "),r("span",[e._v("Friend Request Sent")])],1):e._e(),e._v(" "),r("b-button",{staticClass:"message",attrs:{variant:"default"},on:{click:e.createChat}},[r("b-img",{attrs:{src:"/images/icons/svg/social-message-active.svg",alt:"icon"}})],1)],1),e._v(" "),r("b-popover",{attrs:{show:e.showpopover,placement:"bottomleft","boundary-padding":"10",target:"block",triggers:"click blur focus","custom-class":"social-block-popover"},on:{"update:show":function(t){e.showpopover=t}}},[e.friendRequestSent?r("div",{staticClass:"cancel-friend-request-popup",attrs:{triggers:"click"},on:{click:function(t){e.friendRequestSent=!e.friendRequestSent,e.hidePopOver()}}},[r("b-img",{attrs:{src:"/images/icons/svg/social-friend-request.svg",alt:"icon"}}),e._v(" "),r("span",[e._v("Cancel Friend Request")])],1):e._e(),e._v(" "),e.isFriend?r("div",{staticClass:"cancel-friend-request-popup",on:{click:e.removeFriend}},[r("b-img",{attrs:{src:"/images/icons/svg/social-remove.svg"}}),e._v(" "),r("span",[e._v("Remove From Friends")])],1):e._e()])],1),e._v(" "),r("div",{staticClass:"social-myprofile-about mt-3"},[r("h2",[e._v("About")]),e._v(" "),r("b-row",[r("b-col",{attrs:{sm:"7"}},[r("div",{staticClass:"info"},[r("b-img",{attrs:{src:"/images/icons/svg/social-education.svg",alt:"icon"}}),e._v(" "),r("p",{staticClass:"m-0"},[e._v(e._s(e.education))])],1),e._v(" "),r("div",{staticClass:"info"},[r("b-img",{attrs:{src:"/images/icons/svg/social-job.svg",alt:"icon"}}),e._v(" "),r("p",{staticClass:"m-0"},[e._v(e._s(e.job))])],1),e._v(" "),r("div",{staticClass:"info"},[r("b-img",{attrs:{src:"/images/icons/svg/social-location.svg",alt:"icon"}}),e._v(" "),r("p",{staticClass:"m-0"},[e._v(e._s(e.location))])],1)])],1)],1),e._v(" "),r("div",{staticClass:"social-myprofile-gallery mt-3 "},[r("h2",[e._v(e._s(e.firstName)+" "+e._s(e.lastName)+"'s Gallery")]),e._v(" "),r("b-row",e._l(e.gallery,(function(img,e){return r("b-col",{key:e,attrs:{sm:"4"}},[r("b-img",{staticClass:"gallery-img",attrs:{src:img,alt:"img"}})],1)})),1)],1)],1)])])],1)])}),[],!1,null,null,null);t.default=component.exports}}]);