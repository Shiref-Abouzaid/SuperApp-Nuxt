(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{532:function(t,e,o){"use strict";o.r(e);o(6),o(59),o(64),o(15),o(3),o(61),o(18),o(24),o(22),o(25),o(54),o(60);var n=o(16),r=o.n(n);function l(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return l=t.done,t},e:function(t){c=!0,r=t},f:function(){try{l||null==o.return||o.return()}finally{if(c)throw r}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var c={data:function(){return{mainData:[],userId:2,allowToGetMorVideos:!0,noMoreVideos:!1,loading:{delete:!1,main:!1}}},computed:{isAuthenticated:function(){return this.$store.getters["auth/isAuthenticated"]},locale:function(){return this.$store.getters["locale/locale"]}},methods:{handleScroll:function(t){window.scrollY-(document.body.scrollHeight-window.innerHeight)==0&&this.getMainData(this.mainData.length,4)},getMainData:function(t,e){var o=this;this.noMoreVideos||(this.loading.main=!0,this.allowToGetMorVideos=!1,r.a.get("/my/videos/user/".concat(this.$store.getters["auth/userId"],"/skip/").concat(t,"/take/").concat(e)).then((function(t){o.loading.main=!1,o.allowToGetMorVideos=!0;var e=t.data.data;o.allowToGetMorVideos=!0;var n,r=l(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;o.mainData.push(i)}}catch(t){r.e(t)}finally{r.f()}t.data.data.length<1&&(o.noMoreVideos=!0)})).catch((function(t){console.log(t),o.loading.main=!1})))},deleteVideo:function(t){var e=this;this.loading.delete=!0,r.a.delete("/my/videos/".concat(t)).then((function(o){e.loading.delete=!1,e.$bvModal.hide("modal-".concat(t)),e.mainData=e.mainData.filter((function(video){return video.id!=t})),e.$bvToast.toast("Video has ben deleted successfuly",{title:"Video deleted",autoHideDelay:5e3,variant:"success"})})).catch((function(t){console.log(t),e.loading.delete=!1}))}},created:function(){this.getMainData(0,8),window.addEventListener("scroll",this.handleScroll)}},v=o(39),component=Object(v.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"all-videos"},[o("b-container",[o("nav",{attrs:{"aria-label":"breadcrumb"}},[o("ol",{staticClass:"breadcrumb"},[o("li",{staticClass:"breadcrumb-item"},[o("nuxt-link",{attrs:{to:"/"}},[t._v("Home")])],1),t._v(" "),o("li",{staticClass:"breadcrumb-item"},[o("nuxt-link",{attrs:{to:"/"+t.locale+"/videos"}},[t._v("Funny Video")])],1),t._v(" "),o("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("My Videos")])])]),t._v(" "),o("div",{staticClass:"all-videos-container"},[o("div",{staticClass:"all-videos-header d-flex"},[o("nuxt-link",{staticClass:"videos-link",attrs:{exact:"",to:"/"+t.locale+"/videos/"}},[t._v("\n                    Popular Videos\n                ")]),t._v(" "),o("nuxt-link",{staticClass:"videos-link",attrs:{to:"/"+t.locale+"/videos/my-videos/"}},[t._v("\n                    My Videos\n                ")]),t._v(" "),o("nuxt-link",{staticClass:"add-video-link-container",attrs:{to:"/"+t.locale+"/videos/add/"}},[o("b-button",{staticClass:"add-video-link no-shadow bg-secondary-1 color-white ",attrs:{variant:"default"}},[o("b-img",{attrs:{src:"/images/icons/svg/videos-add-video.svg",alt:"icon"}}),t._v(" "),o("span",[t._v("Add Video")])],1)],1)],1),t._v(" "),o("div",{staticClass:"cards-container"},[o("b-row",t._l(t.mainData,(function(video){return o("b-col",{key:video.id,attrs:{sm:"3"}},[o("div",{staticClass:"single-video-card"},[o("div",{staticClass:"video"},[o("nuxt-link",{attrs:{to:"/"+t.locale+"/videos/watch/"+video.id+"/"+video.title}},[o("b-embed",{attrs:{type:"video",aspect:"4by3"}},[o("source",{attrs:{src:video.path,type:"video/mp4"}})])],1),t._v(" "),o("div",{staticClass:"duration"},[t._v("\n                                    "+t._s(video.duration)+"\n                                ")]),t._v(" "),o("div",{staticClass:"my-edit-edit"},[o("b-button",{staticClass:"no-shadow p-0",attrs:{variant:"defailt",id:"edit-options-"+video.id}},[o("b-img",{attrs:{src:"/images/icons/svg/videos-dots-edit.svg"}})],1)],1),t._v(" "),o("b-popover",{attrs:{"custom-class":"my-video-edit",placement:"bottomleft",target:"edit-options-"+video.id,triggers:"click blur"}},[o("nuxt-link",{staticClass:"d-block",attrs:{to:"/videos/editvideo/"+video.id}},[o("div",{staticClass:"d-flex box"},[o("b-img",{attrs:{src:"/images/icons/svg/videos-edit.svg",alt:"icon"}}),t._v(" "),o("span",[t._v("Edit Video")])],1)]),t._v(" "),o("div",{staticClass:"box"},[o("b-button",{staticClass:"d-flex p-0 no-shadow",attrs:{variant:"default"},on:{click:function(e){return t.$bvModal.show("modal-"+video.id)}}},[o("b-img",{attrs:{src:"/images/icons/svg/videos-remove.svg",alt:"icon"}}),t._v(" "),o("span",[t._v("Remove Video")])],1)],1)],1),t._v(" "),o("b-modal",{attrs:{id:"modal-"+video.id,centered:"","dialog-class":"delete-video-modal","hide-header":""},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[o("div",{staticClass:"d-flex"},[t.loading.delete?o("div",{staticClass:"pt-1"},[o("b-spinner",{staticClass:"spinner-primary",attrs:{small:"",type:"grow"}})],1):t._e(),t._v(" "),o("b-button",{staticClass:"no-shadow",attrs:{variant:"default"},on:{click:function(e){return t.$bvModal.hide("modal-"+video.id)}}},[t._v("No")]),t._v(" "),o("b-button",{staticClass:"no-shadow color-white bg-secondary-1",attrs:{disabled:t.loading.delete,variant:"default"},on:{click:function(e){return t.deleteVideo(video.id)}}},[t._v("Yes")])],1)]},proxy:!0}],null,!0)},[o("p",{staticClass:"m-0"},[t._v("Are you sure you want to delete this video?")])])],1),t._v(" "),o("nuxt-link",{attrs:{to:"/videos/watch/"+video.id}},[o("div",{staticClass:"info"},[o("h2",{staticClass:"title"},[t._v("\n                                        "+t._s(video.title)+"\n                                    ")]),t._v(" "),o("div",{staticClass:"channel d-flex"},[o("b-img",{attrs:{src:"https://pyxis.nymag.com/v1/imgs/aa3/7b2/822e840e4c37dfcb821e8e6bd8005b6795-23-bojack-horseman.rsquare.w700.jpg",alt:"icon"}}),t._v(" "),o("h3",{staticClass:"channel-name"},[t._v(t._s(video.user.username))])],1),t._v(" "),o("div",{staticClass:"views"},[o("b-row",[o("b-col",{attrs:{cols:"6"}},[o("div",{staticClass:"d-flex box"},[o("img",{attrs:{src:"/images/icons/svg/videos-view.svg",alt:"icon"}}),t._v(" "),o("span",[t._v(t._s(video.views)+" views")])])]),t._v(" "),o("b-col",{attrs:{cols:"6"}},[o("div",{staticClass:"d-flex box"},[o("img",{attrs:{src:"/images/icons/svg/videos-time.svg",alt:"icon"}}),t._v(" "),o("span",[t._v("\n                                                        "+t._s(t.$moment(video.created_at).fromNow())+"\n                                                    ")])])])],1)],1)])])],1)])})),1),t._v(" "),t.loading.main?o("div",{staticClass:"text-center mt-4"},[o("b-spinner",{staticClass:"spinner-primary",attrs:{type:"grow"}})],1):t._e()],1)])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);