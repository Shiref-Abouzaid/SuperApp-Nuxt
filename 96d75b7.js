(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{559:function(t,e,o){"use strict";o.r(e);o(6),o(59),o(64),o(15),o(61),o(18),o(24),o(22),o(25),o(54),o(60),o(58);var r=o(21),n=o(16),c=o.n(n);function l(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,l=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return c=t.done,t},e:function(t){l=!0,n=t},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw n}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var d={data:function(){return{doctor:null,reserveDate:null,clinicId:null,loading:{getMoreReviews:!1},hideShowMoreReviews:!1,rate:0,comment:"",reviews:[],swiperOption:{slidesPerView:4,spaceBetween:30,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}},computed:{currSymbol:function(){return this.$store.getters["currency/symbol"]}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("/my/doctor/user/"+t.$route.params.doctorId);case 2:o=e.sent,console.log("doctor data >> ",o.data.data),t.doctor=o.data.data,t.reviews=t.doctor.rates;case 6:case"end":return e.stop()}}),e)})))()},methods:{getMoreReviews:function(t,e){var o=this;this.loading.getMoreReviews=!0,c.a.get("my/rates/type/doctor/object-id/".concat(this.$route.params.doctorId,"/skip/").concat(t,"/take/").concat(e)).then((function(t){o.loading.getMoreReviews=!1;var e,r=l(t.data.data);try{for(r.s();!(e=r.n()).done;){var i=e.value;o.reviews.push(i)}}catch(t){r.e(t)}finally{r.f()}t.data.data.length<5&&(o.hideShowMoreReviews=!0)})).catch((function(){o.loading.getMoreReviews=!1}))},dateDisabled:function(t,e){var o=e.getDay();e.getDate();return o!==this.weekday},onConfirm:function(){if(console.log("confirm",this.reserveDate),null!=this.reserveDate){var t={user_id:this.$store.getters["auth/userId"],datetime:this.reserveDate,doctor_id:this.doctor.id,clinic_id:this.clinicId};console.log("rese >> ",t),c.a.post("https://appointments.tbdm.net/v1/appointments",t).then((function(t){console.log("res >> ",t)})).catch((function(t){console.log(t)})),this.$bvModal.hide("book-date"),this.reserveDate=null}},onBook:function(t,e){this.$store.getters["auth/isAuthenticated"]?(this.$bvModal.show("book-date"),this.clinicId=t,console.log(t),this.weekday=e):this.$bvModal.show("popup-login")},setRating:function(t){console.log(t),this.rate=t},saveComment:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o,r,n,l,v,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("comment"),!t.$store.getters["auth/isAuthenticated"]){e.next=16;break}return o=t.$store.getters["auth/userId"],e.next=5,c.a.get("/users/"+o);case 5:r=e.sent,n=(new Date).toISOString().substring(0,10),l=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),console.log("user >> ",r.data.data),v={rate:t.rate,created_at:n+" "+l,comment:t.comment,user:{first_name:r.data.data.first_name,last_name:r.data.data.last_name,image_url:r.data.data.user_details?r.data.data.user_details.image_url:"https://orbitermag.com/wp-content/uploads/2017/03/default-user-image-300x300.png"}},t.reviews.unshift(v),console.log("reviews >> ",t.reviews),d={rate:t.rate,user_id:o,object_id:t.$route.params.doctorId,object_name:"doctor",comment:t.comment},c.a.post("/rates",d).then((function(e){console.log(e),t.rate=0,t.comment=""})).catch((function(t){console.log(t)})),e.next=17;break;case 16:t.$bvModal.show("popup-login");case 17:case"end":return e.stop()}}),e)})))()}},watch:{currSymbol:function(t,e){console.log("symbol >> ",t,e),this.$fetch()}}},_=o(39),component=Object(_.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"doctor-page"},[o("div",{staticClass:"container"},[o("nav",{attrs:{"aria-label":"breadcrumb"}},[o("ol",{staticClass:"breadcrumb"},[o("li",{staticClass:"breadcrumb-item"},[o("nuxt-link",{attrs:{to:"/"}},[t._v(t._s(t.$t("subnav.home")))])],1),t._v(" "),o("li",{staticClass:"breadcrumb-item"},[o("nuxt-link",{attrs:{to:{name:"locale-services"}}},[t._v(t._s(t.$t("subnav.service")))])],1),t._v(" "),o("li",{staticClass:"breadcrumb-item"},[o("nuxt-link",{attrs:{to:{name:"locale-services-medical-services"}}},[t._v(t._s(t.$t("subnav.medical")))])],1),t._v(" "),o("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.$route.params.doctorName))])])]),t._v(" "),o("div",{staticClass:"row"},[t.doctor?o("div",{staticClass:"col-sm-8"},[o("div",{staticClass:"doctor-info"},[o("div",{staticClass:"info"},[o("div",{staticClass:"doctor-img"},[o("img",{attrs:{src:t.doctor.image_url?t.doctor.image_url:"/images/placeholder.jpg",alt:""}})]),t._v(" "),o("div",{staticClass:"title"},[o("h4",[t._v(t._s(t.doctor.first_name)+" "+t._s(t.doctor.last_name))]),t._v(" "),o("span",[t._v(t._s(t.doctor.speciality))])]),t._v(" "),o("div",{staticClass:"rate"},[o("div",{staticClass:"rate-box"},[o("span",[t._v(t._s(t.doctor.total_rates))]),t._v(" "),o("img",{attrs:{src:"/images/icons/svg/vendor-star.svg",alt:""}})])])]),t._v(" "),o("p",[t._v(t._s(t.doctor.description))])]),t._v(" "),t._l(t.doctor.medical_services,(function(e,r){return o("div",{key:r},["clinic"==e.type?o("div",{staticClass:"clinic"},[o("div",{staticClass:"head"},[o("h3",[t._v(t._s(e.title))]),t._v(" "),o("nuxt-link",{attrs:{to:"/"}},[t._v("See Profile")])],1),t._v(" "),o("div",{staticClass:"clinic-contacts"},[o("div",{staticClass:"contacts"},[o("div",{staticClass:"row"},[e.phone?o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"contact"},[o("img",{attrs:{src:"/images/icons/svg/phone.svg",alt:""}}),t._v(" "),o("p",[t._v(t._s(e.phone))])])]):t._e(),t._v(" "),e.email?o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"contact"},[o("img",{staticClass:"mail",attrs:{src:"/images/icons/svg/mail.svg",alt:""}}),t._v(" "),o("p",[t._v(t._s(e.email))])])]):t._e(),t._v(" "),e.address?o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"contact"},[o("img",{attrs:{src:"/images/icons/svg/location.svg",alt:""}}),t._v(" "),o("p",{staticClass:"location"},[t._v(t._s(e.address))])])]):t._e()])])]),t._v(" "),o("div",{staticClass:"appointments"},[o("div",{directives:[{name:"swiper",rawName:"v-swiper",value:t.swiperOption,expression:"swiperOption"}],staticClass:"swiper arrow-secondary",attrs:{"instance-name":"mySwiper"+r}},[o("div",{staticClass:"swiper-wrapper"},[e.saturday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v("Saturday")]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_at)+" - "+t._s(e.closing_at))]),t._v(" "),o("p",{staticClass:"price"},[t._v(t._s(t.currSymbol)+t._s(e.regular_price))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,6)}}},[t._v("\n                                                Book Now\n                                            ")])])]):t._e(),t._v(" "),e.sunday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v("Sunday")]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_at)+" - "+t._s(e.closing_at))]),t._v(" "),o("p",{staticClass:"price"},[t._v(t._s(t.currSymbol)+t._s(e.regular_price))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,0)}}},[t._v("\n                                                Book Now\n                                            ")])])]):t._e(),t._v(" "),e.monday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v("Monday")]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_at)+" - "+t._s(e.closing_at))]),t._v(" "),o("p",{staticClass:"price"},[t._v(t._s(t.currSymbol)+t._s(e.regular_price))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,1)}}},[t._v("\n                                                Book Now\n                                            ")])])]):t._e(),t._v(" "),e.tuesday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v("Tuesday")]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_at)+" - "+t._s(e.closing_at))]),t._v(" "),o("p",{staticClass:"price"},[t._v(t._s(t.currSymbol)+t._s(e.regular_price))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,2)}}},[t._v("\n                                                Book Now\n                                            ")])])]):t._e(),t._v(" "),e.wednesday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v("Wednesday")]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_at)+" - "+t._s(e.closing_at))]),t._v(" "),o("p",{staticClass:"price"},[t._v(t._s(t.currSymbol)+t._s(e.regular_price))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,3)}}},[t._v("\n                                                Book Now\n                                            ")])])]):t._e(),t._v(" "),e.thursday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v("Thursday")]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_at)+" - "+t._s(e.closing_at))]),t._v(" "),o("p",{staticClass:"price"},[t._v(t._s(t.currSymbol)+t._s(e.regular_price))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,4)}}},[t._v("\n                                                Book Now\n                                            ")])])]):t._e(),t._v(" "),e.friday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v("Friday")]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_at)+" - "+t._s(e.closing_at))]),t._v(" "),o("p",{staticClass:"price"},[t._v(t._s(t.currSymbol)+t._s(e.regular_price))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,5)}}},[t._v("\n                                                Book Now\n                                            ")])])]):t._e()]),t._v(" "),o("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"},[o("img",{staticStyle:{transform:"rotate(180deg)"},attrs:{src:"/images/icons/svg/offers-arrow.svg",alt:""}})]),t._v(" "),o("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"},[o("img",{attrs:{src:"/images/icons/svg/offers-arrow.svg",alt:""}})])])])]):t._e()])})),t._v(" "),o("div",{staticClass:"reviews"},[o("div",{staticClass:"add-review"},[o("h4",[t._v(t._s(t.$t("review.add_review")))]),t._v(" "),o("div",{staticClass:"row no-gutters"},[o("div",{staticClass:"col-3"},[o("h6",[t._v(t._s(t.$t("review.your_review")))])]),t._v(" "),o("div",{staticClass:"col-9"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",attrs:{id:"review",rows:"4"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row no-gutters"},[o("div",{staticClass:"col-3 d-flex align-items-center"},[o("h6",[t._v(t._s(t.$t("review.rating")))])]),t._v(" "),o("div",{staticClass:"col-9"},[o("client-only",[o("star-rating",{attrs:{rating:t.rate,increment:.5,"active-color":"#FFD506","show-rating":!1,"star-size":20,padding:.9},on:{"rating-selected":t.setRating}})],1)],1)]),t._v(" "),o("div",{staticClass:"row no-gutters"},[o("div",{staticClass:"col-3"}),t._v(" "),o("div",{staticClass:"col-9"},[o("button",{staticClass:"btn",on:{click:t.saveComment}},[t._v("Submit")])])])]),t._v(" "),o("hr"),t._v(" "),o("div",{staticClass:"prev-reviews"},[o("h4",[t._v("Previous reviews")]),t._v(" "),t.reviews&&t.reviews.length>0?t._l(t.reviews,(function(e){return o("div",{key:e.id,staticClass:"row no-gutters review"},[o("div",{staticClass:"col-3"},[o("client-only",[o("star-rating",{attrs:{rating:e.rate,increment:.5,"read-only":!0,"active-color":"#FFD506","show-rating":!1,"star-size":20,padding:.9}})],1),t._v(" "),o("h6",[t._v(t._s(e.user.first_name)+" "+t._s(e.user.last_name))]),t._v(" "),o("span",{staticClass:"time"},[t._v(t._s(t._f("moment")(e.created_at,"from","now")))])],1),t._v(" "),o("div",{staticClass:"col-9"},[o("div",{staticClass:"comment"},[o("p",[t._v(t._s(e.comment))])])])])})):t._e(),t._v(" "),t.hideShowMoreReviews?t._e():o("div",{staticClass:"more"},[o("p",{on:{click:function(e){return t.getMoreReviews(t.reviews.length,5)}}},[t.loading.getMoreReviews?o("b-spinner",{staticClass:"spinner-primary",attrs:{small:""}}):t._e(),t._v(" See more reviews")],1)])],2)])],2):t._e(),t._v(" "),o("div",{staticClass:"col-sm-4"},[o("div",{staticClass:"doctor-contacts"},[t.doctor?o("div",{staticClass:"contacts"},[t.doctor.phone?o("div",{staticClass:"row no-gutters"},[t._m(0),t._v(" "),o("div",{staticClass:"col-1"}),t._v(" "),o("div",{staticClass:"col-10"},[o("p",[t._v(t._s(t.doctor.phone))])])]):t._e(),t._v(" "),t.doctor.email?o("div",{staticClass:"row no-gutters"},[t._m(1),t._v(" "),o("div",{staticClass:"col-1"}),t._v(" "),o("div",{staticClass:"col-10"},[o("p",[t._v(t._s(t.doctor.email))])])]):t._e(),t._v(" "),t.doctor.address?o("div",{staticClass:"row no-gutters"},[t._m(2),t._v(" "),o("div",{staticClass:"col-1"}),t._v(" "),o("div",{staticClass:"col-10"},[o("p",[t._v(t._s(t.doctor.address))])])]):t._e()]):t._e()])])]),t._v(" "),o("b-modal",{attrs:{id:"book-date",centered:"","hide-header":!0,"hide-footer":!0,title:"Choose date"}},[o("div",{staticClass:"calendar-book"},[o("b-calendar",{attrs:{"date-disabled-fn":t.dateDisabled,block:"",locale:"en-US"},model:{value:t.reserveDate,callback:function(e){t.reserveDate=e},expression:"reserveDate"}}),t._v(" "),o("div",{staticClass:"select-btn"},[o("button",{staticClass:"btn",on:{click:t.onConfirm}},[t._v("Select Date")])])],1)])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("img",{attrs:{src:"/images/icons/svg/phone.svg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("img",{staticClass:"mail",attrs:{src:"/images/icons/svg/mail.svg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("img",{attrs:{src:"/images/icons/svg/location.svg",alt:""}})])}],!1,null,null,null);e.default=component.exports}}]);