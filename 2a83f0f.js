(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{527:function(t,e,r){"use strict";r.r(e);r(15);var n=r(34),o=(r(58),r(21)),c=r(16),l=r.n(c),d={props:["category"],computed:{locale:function(){return this.$store.getters["locale/locale"]}}},m=r(39),v={components:{appCompanyCategory:Object(m.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"company-main-category"},[r("nuxt-link",{attrs:{to:"/"+t.locale+"/companies-categories/"+t.category.id+"/"+t.category.name}},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-hover"},[r("div",{staticClass:"card-img"},[r("img",{staticClass:"card-img-top",attrs:{src:t.category.image_url,alt:"..."}})]),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-head"},[r("h5",{staticClass:"card-title"},[t._v(t._s(t.category.name))])]),t._v(" "),r("div",{staticClass:"desc"},[r("p",[t._v(t._s(t.category.description))])])])])])])],1)}),[],!1,null,null,null).exports},data:function(){return{categories:[],allowToGetMore:!0,noMore:!1,loading:{seeMore:!1}}},computed:{locale:function(){return this.$store.getters["locale/locale"]}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("my/index/categories/parent/2/skip/0/take/6");case 2:r=e.sent,t.categories=r.data.data;case 4:case"end":return e.stop()}}),e)})))()},methods:{handleScroll:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=window.scrollY,o=document.body.scrollHeight,c=window.innerHeight,!(Math.floor(r-(o-c))<1&&Math.floor(r-(o-c))>-10)){t.next=20;break}if(!e.allowToGetMore||e.noMore){t.next=20;break}return e.allowToGetMore=!1,t.prev=6,e.loading.seeMore=!0,t.next=10,l.a.get("my/index/categories/parent/2/skip/".concat(e.categories.length,"/take/6"));case 10:d=t.sent,e.categories=[].concat(Object(n.a)(e.categories),Object(n.a)(d.data.data)),e.loading.seeMore=!1,e.allowToGetMore=!0,d.data.data.length<1&&(e.noMore=!0),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),console.log(t.t0.response);case 20:case"end":return t.stop()}}),t,null,[[6,17]])})))()}},created:function(){window.addEventListener("scroll",this.handleScroll)}},_=Object(m.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"company-categories"},[r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("nuxt-link",{attrs:{to:"/"}},[t._v(t._s(t.$t("subnav.home")))])],1),t._v(" "),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.$t("menu.companies_index")))])])]),t._v(" "),r("div",{staticClass:"items"},[r("div",{staticClass:"head"},[r("h3",[t._v(t._s(t.$t("companies_index.popular_categories")))]),t._v(" "),r("div",{staticClass:"add-btn"},[r("button",{staticClass:"btn",on:{click:function(e){return t.$router.push("/"+t.locale+"/companies-categories/add")}}},[t._v("+ "+t._s(t.$t("companies_index.add_company_btn")))])])]),t._v(" "),r("div",{staticClass:"row"},t._l(t.categories,(function(t){return r("div",{key:t.id,staticClass:"col-sm-4"},[r("app-company-category",{attrs:{category:t}})],1)})),0),t._v(" "),t.loading.seeMore?r("div",{staticClass:"text-center mt-4"},[r("b-spinner",{staticClass:"spinner-primary",attrs:{variant:"default",large:"",type:"grow"}})],1):t._e()])])])}),[],!1,null,null,null);e.default=_.exports}}]);