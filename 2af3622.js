(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{490:function(t,e,n){"use strict";var c={props:["auction"],data:function(){return{}},computed:{locale:function(){return this.$store.getters["locale/locale"]},currSymbol:function(){return this.$store.getters["currency/symbol"]}}},o=n(39),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.auction?n("div",{staticClass:"auction"},[n("nuxt-link",{attrs:{to:"/"+t.locale+"/VIP/auction/"+t.auction.id+"/"+t.auction.title}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-hover"},[n("div",{staticClass:"card-img"},[n("img",{staticClass:"card-img-top",attrs:{src:t.auction.image_url,alt:"..."}})]),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"card-head"},[n("h5",{staticClass:"card-title"},[t._v(t._s(t.auction.title))])]),t._v(" "),n("div",{staticClass:"price"},[n("span",{staticClass:"text"},[t._v(t._s(t.$t("vip.start_price"))+": ")]),t._v(" "),n("span",{staticClass:"amount"},[t._v(t._s(t.currSymbol)+t._s(t.auction.open_price))])]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"bid"},[n("span",[t._v(t._s(t.auction.total_paids)+" "+t._s(t.$t("vip.bid")))])]),t._v(" "),new Date(t.auction.ends_at).getTime()>(new Date).getTime()?n("div",{staticClass:"left"},[t._v("\n                            "+t._s(t._f("moment")(t.auction.ends_at,"from",!0))+" left\n                        ")]):t._e()])])]),t._v(" "),n("div",{staticClass:"actions"},[n("div",{staticClass:"row no-gutters"},[n("div",{staticClass:"col add-cart-btn"},[n("span",[t._v(t._s(t.$t("vip.details_btn")))])])])])])])],1):t._e()}),[],!1,null,null,null);e.a=component.exports},563:function(t,e,n){"use strict";n.r(e);n(94),n(58);var c=n(21),o=n(95),r=n.n(o),l=n(16),d=n.n(l),v={middleware:["auth"],components:{appSingleAuction:n(490).a},data:function(){return{pusher:null,auctionChannel:null,auctions:[]}},computed:{locale:function(){return this.$store.getters["locale/locale"]}},fetch:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("cat id >>>> ",t.$route.params.categoryId),e.next=4,d.a.get("my/auctions/categories/"+t.$route.params.categoryId+"/auctions/skip/0/take/100");case 4:n=e.sent,t.auctions=n.data.data,console.log("auctions in category >> ",t.auctions),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},mounted:function(){var t=this;this.pusher=new r.a("dpctgdv35p33t63d3eva",{encrypted:!1,cluster:"eu",forceTLS:!1,httpHost:"synchronizer.tbdm.net",statsHost:"http://synchronizer.tbdm.net/stats",wsHost:"synchronizer.tbdm.net",wsPort:6001,authEndpoint:"https://developers.api.tbdm.net/v-1872020/"+this.locale+"/my/auctions/category/"+this.$route.params.categoryId+"/auth/private",auth:{headers:{Authorization:this.$store.getters["auth/token"]}}}),this.auctionChannel=this.pusher.subscribe("private-auctionsCategory."+this.$route.params.categoryId),console.log("auction channel",this.auctionChannel),this.auctionChannel.bind("App\\Events\\AuctionBidCreated",(function(e){console.log("got data from category >>>>> ",e);var n=t.auctions.find((function(t){return t.id==e.auctionID}));console.log("auction now >> ",n),n.total_paids+=+e.auctionee.paid_price,console.log("auction after > ",n)})),this.auctionChannel.bind("App\\Events\\AuctionClosed",(function(t){console.log("got data closed event category >>>>> ",t)}))},methods:{addAuction:function(){this.$router.push("/"+this.$store.getters["locale/locale"]+"/VIP/add")}}},h=n(39),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"auctions-cats"},[n("div",{staticClass:"container"},[n("nav",{attrs:{"aria-label":"breadcrumb"}},[n("ol",{staticClass:"breadcrumb"},[n("li",{staticClass:"breadcrumb-item"},[n("nuxt-link",{attrs:{to:"/"}},[t._v(t._s(t.$t("subnav.home")))])],1),t._v(" "),n("li",{staticClass:"breadcrumb-item"},[n("nuxt-link",{attrs:{to:"/"+t.locale+"/vip"}},[t._v(t._s(t.$t("subnav.vip")))])],1),t._v(" "),n("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.$route.params.categoryName))])])]),t._v(" "),n("div",{staticClass:"categories"},[n("div",{staticClass:"head"},[n("h3",[t._v(t._s(this.$route.params.categoryName))]),t._v(" "),n("div",{staticClass:"add-btn"},[n("button",{staticClass:"btn",on:{click:t.addAuction}},[t._v("+ "+t._s(t.$t("vip.add_auction")))])])]),t._v(" "),t.auctions&&t.auctions.length>0?n("div",{staticClass:"row"},t._l(t.auctions,(function(t){return n("div",{key:t.id,staticClass:"col-sm-4"},[n("app-single-auction",{attrs:{auction:t}})],1)})),0):t._e()])])])}),[],!1,null,null,null);e.default=component.exports}}]);