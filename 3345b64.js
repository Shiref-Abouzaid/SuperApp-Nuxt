(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{481:function(t,e,r){"use strict";var n={props:["gallery"],data:function(){return{swiperOption:{slidesPerView:1},swiperThumbnailOption:{slidesPerView:7,spaceBetween:15,slideToClickedSlide:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}},mounted:function(){this.mainSwiper.controller.control=this.thumbnailSwiper,this.thumbnailSwiper.controller.control=this.mainSwiper,console.log("swiper main >>> ",this.mainSwiper.controller.control),console.log("swiper thumbnail >>> ",this.thumbnailSwiper.controller.control)}},o=r(39),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"slider-thumbnails"},[r("div",{staticClass:"product-slider"},[r("div",{directives:[{name:"swiper",rawName:"v-swiper:mainSwiper",value:t.swiperOption,expression:"swiperOption",arg:"mainSwiper"}],staticClass:"swiper"},[r("div",{staticClass:"swiper-wrapper"},t._l(t.gallery,(function(img,t){return r("div",{key:t,staticClass:"swiper-slide"},[r("div",{staticClass:"product-img"},[r("img",{attrs:{src:img,alt:""}})])])})),0)])]),t._v(" "),r("div",{staticClass:"thumbnails"},[r("div",{staticClass:"product-thumbnails"},[r("div",{staticClass:"slider"},[r("div",{directives:[{name:"swiper",rawName:"v-swiper:thumbnailSwiper",value:t.swiperThumbnailOption,expression:"swiperThumbnailOption",arg:"thumbnailSwiper"}],staticClass:"swiper arrow-secondary"},[r("div",{staticClass:"swiper-wrapper"},t._l(t.gallery,(function(img,t){return r("div",{key:t,staticClass:"swiper-slide"},[r("div",{staticClass:"thumbnail"},[r("img",{attrs:{src:img,alt:""}})])])})),0),t._v(" "),r("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"},[r("img",{staticStyle:{transform:"rotate(180deg)"},attrs:{src:"/images/icons/svg/offers-arrow.svg",alt:""}})]),t._v(" "),r("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"},[r("img",{attrs:{src:"/images/icons/svg/offers-arrow.svg",alt:""}})])])])])])])}),[],!1,null,null,null);e.a=component.exports},482:function(t,e,r){"use strict";r(94),r(24);var n={props:["product"],data:function(){return{quantity:0,wishlisted:!1}},created:function(){var t=this,e=this.$store.getters["cart/cartProducts"],r=this.$store.getters["wishlist/wishlist"];if(this.product){var n=e.find((function(e){return e.id==t.product.id}));n&&(this.quantity=n.quantity);var o=r.find((function(e){return e.id==t.product.id}));o&&(this.wishlisted=o.wishlisted)}},computed:{sale:function(){return this.product.sale_price?Math.ceil(this.product.sale_price/this.product.regular_price*100):null},productName:function(){var t=this.product.name;return t.length>30?t.substr(0,30)+"...":t},shortDescription:function(){var desc=this.product.short_description;return desc.length>40?desc.substr(0,40)+"...":desc},locale:function(){return this.$store.getters["locale/locale"]},currSymbol:function(){return this.$store.getters["currency/symbol"]}},methods:{addToCart:function(){this.quantity++;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,quantity:this.quantity,price:this.product.sale_price?this.product.sale_price:this.product.regular_price,vendorId:this.product.vendor_id};console.log("quantity >>>>>>>> ",this.quantity),this.$store.dispatch("cart/addOrUpdateCartProduct",t),console.log(this.$store.getters["cart/cartProducts"]),console.log("total >> ",this.$store.getters["cart/totalQuantity"]),this.$store.getters["auth/isAuthenticated"]&&1==this.quantity?this.$store.dispatch("cart/saveCartProduct",t):this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/updateCartProduct",t)},removeFromCart:function(){this.quantity--;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,quantity:this.quantity,price:this.product.sale_price?this.product.sale_price:this.product.regular_price,vendorId:this.product.vendor_id};0==this.quantity?(this.$store.dispatch("cart/removeCartProduct",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/deleteCartProduct",t.id)):(this.$store.dispatch("cart/addOrUpdateCartProduct",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/updateCartProduct",t)),console.log(this.$store.getters["cart/cartProducts"]),console.log("total >> ",this.$store.getters["cart/totalQuantity"])},deleteProduct:function(){console.log("delete"),this.quantity=0;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,quantity:this.quantity,price:this.product.sale_price?this.product.sale_price:this.product.regular_price,vendorId:this.product.vendor_id};console.log("delete product >> ",t),this.$store.dispatch("cart/removeCartProduct",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/deleteCartProduct",t.id)},singleProduct:function(t){console.log("one product >>> ",t),this.$store.commit("setSingleProduct",t)},addToWishlist:function(){this.wishlisted=!this.wishlisted;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,regularPrice:this.product.regular_price,salePrice:this.product.sale_price,stockStatus:+this.product.stock_status,vendorId:this.product.vendor_id,wishlisted:this.wishlisted};1==this.wishlisted?(this.$store.dispatch("wishlist/addToWishlist",t),console.log("wishlist ",this.$store.getters["wishlist/wishlist"]),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("wishlist/saveToWishlist",this.product.id)):(this.$store.dispatch("wishlist/removeFromWishlist",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("wishlist/deleteFromWishlist",this.product.id))}}},o=r(39),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.product&&!t.product.deleted_at?r("div",{staticClass:"product"},[r("div",{staticClass:"product-container"},[t.product.vendor_details?r("div",{staticClass:"vendor-img"},[r("img",{attrs:{src:t.product.vendor_details.image_url,alt:""}})]):t._e(),t._v(" "),t.sale?r("div",{staticClass:"sale"},[r("span",[t._v(t._s(100-t.sale)+"%")])]):t._e(),t._v(" "),r("div",{staticClass:"card"},[r("nuxt-link",{attrs:{to:"/"+t.locale+"/services/store/product/"+t.product.id+"/"+t.product.name}},[r("div",{staticClass:"card-hover"},[r("div",{staticClass:"product-img"},[r("img",{staticClass:"card-img-top",attrs:{src:t.product.image_url,alt:"..."}})]),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"info"},[r("div",{staticClass:"rate"},[r("span",[t._v(t._s(t.product.total_rates))]),t._v(" "),r("img",{attrs:{src:"/images/icons/svg/vendor-star.svg",alt:""}})]),t._v(" "),r("div",{staticClass:"price"},[t.product.sale_price?r("span",{staticClass:"discount"},[t._v(t._s(t.currSymbol)+t._s(t.product.regular_price))]):t._e(),t._v(" "),r("span",{staticClass:"original"},[t._v(t._s(t.currSymbol)+t._s(t.product.sale_price?t.product.sale_price:t.product.regular_price))])])]),t._v(" "),r("h6",[t._v(t._s(t.productName))]),t._v(" "),r("p",[t._v(t._s(t.shortDescription))])])])]),t._v(" "),r("div",{staticClass:"actions"},[r("div",{staticClass:"row no-gutters actions-container"},[r("div",{staticClass:"col-6 wishlist-btn",class:{"hide-btn":t.quantity},on:{click:t.addToWishlist}},[t.wishlisted?t._e():r("img",{attrs:{src:"/images/icons/svg/heart-empty.svg",alt:""}}),t._v(" "),t.wishlisted?r("img",{attrs:{src:"/images/icons/svg/heart-filled.svg",alt:""}}):t._e(),t._v(" "),r("span",[t._v(t._s(t.$t("single_product.wishlist_button")))])]),t._v(" "),+t.product.stock_status?[r("div",{staticClass:"col-6 add-cart-btn",class:{"hide-btn":t.quantity>0},on:{click:t.addToCart}},[r("img",{attrs:{src:"/images/icons/svg/shopping-bag.svg",alt:""}}),t._v(" "),r("span",[t._v(t._s(t.$t("single_product.add_button")))])]),t._v(" "),r("div",{staticClass:"col-12 control",class:{hide:0==t.quantity}},[r("div",{staticClass:"row no-gutters"},[r("div",{staticClass:"col-10"},[r("div",{staticClass:"quantity"},[r("span",{staticClass:"minus",on:{click:t.removeFromCart}},[t._v("-")]),t._v(" "),r("span",{staticClass:"count"},[t._v(t._s(t.quantity))]),t._v(" "),r("span",{staticClass:"plus",on:{click:t.addToCart}},[t._v("+")])])]),t._v(" "),r("div",{staticClass:"col-2",on:{click:t.deleteProduct}},[t._m(1)])])])]:r("div",{staticClass:"col-6"},[t._m(0)])],2)])],1)])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"out-stock"},[e("span",[this._v("OUT OF STOCK")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"remove"},[e("img",{attrs:{src:"/images/icons/svg/icon-remove.svg",alt:""}})])}],!1,null,null,null);e.a=component.exports},610:function(t,e,r){"use strict";r.r(e);r(6),r(59),r(64),r(15),r(61),r(18),r(24),r(22),r(25),r(54),r(60),r(58);var n=r(21),o=r(482),c=r(481),l=r(16),d=r.n(l);function v(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var m={components:{appSingleMeal:o.a,appSliderThumbnails:c.a},data:function(){return{restaurant:{},rate:0,comment:"",reviews:[],mealsCount:0,loading:{getMoreReviews:!1},hideShowMoreReviews:!1}},computed:{locale:function(){return this.$store.getters["locale/locale"]}},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/my/restaurants/"+t.$route.params.restaurantId);case 2:r=e.sent,console.log("restaurant data >> ",r.data.data),t.restaurant=r.data.data,t.reviews=t.restaurant.rates;case 6:case"end":return e.stop()}}),e)})))()},methods:{getMealsCount:function(){var t=this;d.a.get("/my/products/store/".concat(this.$route.params.restaurantId,"/type/restaurant/count")).then((function(e){t.mealsCount=e.data.data}))},getMoreReviews:function(t,e){var r=this;this.loading.getMoreReviews=!0,d.a.get("my/restaurants/".concat(this.$route.params.restaurantId,"/rating/skip/").concat(t,"/take/").concat(e)).then((function(t){r.loading.getMoreReviews=!1;var e,n=v(t.data.data);try{for(n.s();!(e=n.n()).done;){var i=e.value;r.reviews.push(i)}}catch(t){n.e(t)}finally{n.f()}t.data.data.length<5&&(r.hideShowMoreReviews=!0)})).catch((function(){r.loading.getMoreReviews=!1}))},setRating:function(t){console.log(t),this.rate=t},saveComment:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("comment"),!t.$store.getters["auth/isAuthenticated"]){e.next=16;break}return r=t.$store.getters["auth/userId"],e.next=5,d.a.get("/users/"+r);case 5:n=e.sent,o=(new Date).toISOString().substring(0,10),c=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),console.log("user >> ",n.data.data),l={rate:t.rate,created_at:o+" "+c,comment:t.comment,user:{first_name:n.data.data.first_name,last_name:n.data.data.last_name,image_url:n.data.data.user_details?n.data.data.user_details.image_url:"https://orbitermag.com/wp-content/uploads/2017/03/default-user-image-300x300.png"}},t.reviews.unshift(l),console.log("reviews >> ",t.reviews),v={rate:t.rate,user_id:r,object_id:t.$route.params.restaurantId,object_name:"restaurant",comment:t.comment},d.a.post("/rates",v).then((function(e){console.log(e),t.rate=0,t.comment=""})).catch((function(t){console.log(t)})),e.next=17;break;case 16:t.$bvModal.show("popup-login");case 17:case"end":return e.stop()}}),e)})))()}},created:function(){this.getMealsCount()}},_=r(39),component=Object(_.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"restaurant-page"},[r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("nuxt-link",{attrs:{to:"/"}},[t._v(t._s(t.$t("subnav.home")))])],1),t._v(" "),r("li",{staticClass:"breadcrumb-item"},[r("nuxt-link",{attrs:{to:"/"+t.locale+"/services/"}},[t._v(t._s(t.$t("subnav.service")))])],1),t._v(" "),r("li",{staticClass:"breadcrumb-item"},[r("nuxt-link",{attrs:{to:{name:"locale-services-restaurants"}}},[t._v(t._s(t.$t("subnav.restaurant")))])],1),t._v(" "),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.$route.params.restaurantName))])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-8"},[r("app-slider-thumbnails",{attrs:{gallery:t.restaurant.gallery}}),t._v(" "),r("div",{staticClass:"meals"},[r("div",{staticClass:"head"},[r("div",{staticClass:"title"},[r("h3",[t._v(t._s(t.restaurant.title))]),t._v(" "),r("span",[t._v(t._s(t.mealsCount)+" "+t._s(t.$t("restaurant.meal")))])]),t._v(" "),r("nuxt-link",{attrs:{to:{name:"locale-services-restaurant-restaurantId-restaurantName-more-meals",params:{restaurantId:t.$route.params.restaurantId,restaurantName:t.$route.params.restaurantName}}}},[t._v(t._s(t.$t("restaurant.more")))])],1),t._v(" "),r("div",{staticClass:"row"},t._l(t.restaurant.products,(function(t){return r("div",{key:t.id,staticClass:"col-6"},[r("app-single-meal",{attrs:{product:t}})],1)})),0)]),t._v(" "),r("div",{staticClass:"reviews"},[r("div",{staticClass:"add-review"},[r("h4",[t._v(t._s(t.$t("restaurant.add_review")))]),t._v(" "),r("div",{staticClass:"row no-gutters"},[r("div",{staticClass:"col-sm-3"},[r("h6",[t._v(t._s(t.$t("restaurant.your_review")))])]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",attrs:{id:"review",rows:"4"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"row no-gutters"},[r("div",{staticClass:"col-sm-3 d-flex align-items-center"},[r("h6",[t._v(t._s(t.$t("restaurant.rating")))])]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("client-only",[r("star-rating",{attrs:{rating:t.rate,increment:.5,"active-color":"#FFD506","show-rating":!1,"star-size":20,padding:.9},on:{"rating-selected":t.setRating}})],1)],1)]),t._v(" "),r("div",{staticClass:"row no-gutters"},[r("div",{staticClass:"col-sm-3"}),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("button",{staticClass:"btn",on:{click:t.saveComment}},[t._v(t._s(t.$t("review.submit")))])])])]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"prev-reviews"},[r("h4",[t._v(t._s(t.$t("review.previous_review")))]),t._v(" "),t.reviews&&t.reviews.length>0?t._l(t.reviews,(function(e){return r("div",{key:e.id,staticClass:"row no-gutters review"},[r("div",{staticClass:"col-3"},[r("client-only",[r("star-rating",{attrs:{rating:e.rate,increment:.5,"read-only":!0,"active-color":"#FFD506","show-rating":!1,"star-size":20,padding:.9}})],1),t._v(" "),r("h6",[t._v(t._s(e.user.first_name)+" "+t._s(e.user.last_name))]),t._v(" "),r("span",{staticClass:"time"},[t._v(t._s(t._f("moment")(e.created_at,"from","now")))])],1),t._v(" "),r("div",{staticClass:"col-9"},[r("div",{staticClass:"comment"},[r("p",[t._v(t._s(e.comment))])])])])})):t._e(),t._v(" "),t.hideShowMoreReviews?t._e():r("div",{staticClass:"more"},[r("p",{on:{click:function(e){return t.getMoreReviews(t.reviews.length,5)}}},[t.loading.getMoreReviews?r("b-spinner",{staticClass:"spinner-primary",attrs:{small:""}}):t._e(),t._v(t._s(t.$t("review.more_review")))],1)])],2)])],1),t._v(" "),r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"vendor-profile"},[r("div",{staticClass:"info"},[r("img",{attrs:{src:t.restaurant.logo_url,alt:""}}),t._v(" "),r("div",{staticClass:"name"},[r("h5",[t._v(t._s(t.restaurant.title))])]),t._v(" "),r("div",{staticClass:"rate"},[r("span",[t._v(t._s(t.restaurant.total_rates))]),t._v(" "),r("img",{attrs:{src:"/images/icons/svg/vendor-star.svg",alt:""}})])]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"contacts"},[t.restaurant.phone?r("div",{staticClass:"row no-gutters"},[t._m(0),t._v(" "),r("div",{staticClass:"col-1"}),t._v(" "),r("div",{staticClass:"col-10"},[r("p",[t._v(t._s(t.restaurant.phone))])])]):t._e(),t._v(" "),t.restaurant.email?r("div",{staticClass:"row no-gutters"},[t._m(1),t._v(" "),r("div",{staticClass:"col-1"}),t._v(" "),r("div",{staticClass:"col-10"},[r("p",[t._v(t._s(t.restaurant.email))])])]):t._e(),t._v(" "),t.restaurant.address?r("div",{staticClass:"row no-gutters"},[t._m(2),t._v(" "),r("div",{staticClass:"col-1"}),t._v(" "),r("div",{staticClass:"col-10"},[r("p",[t._v(t._s(t.restaurant.address))])])]):t._e(),t._v(" "),t.restaurant.website?r("div",{staticClass:"row no-gutters"},[t._m(3),t._v(" "),r("div",{staticClass:"col-1"}),t._v(" "),r("div",{staticClass:"col-10"},[r("p",[t._v(t._s(t.restaurant.website))])])]):t._e()])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("img",{attrs:{src:"/images/icons/svg/phone.svg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("img",{staticClass:"mail",attrs:{src:"/images/icons/svg/mail.svg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("img",{attrs:{src:"/images/icons/svg/location.svg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("img",{staticClass:"web",attrs:{src:"/images/icons/svg/world-wide-web.svg",alt:""}})])}],!1,null,null,null);e.default=component.exports}}]);