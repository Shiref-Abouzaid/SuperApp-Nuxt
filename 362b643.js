(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{482:function(t,e,r){"use strict";r(94),r(24);var c={props:["product"],data:function(){return{quantity:0,wishlisted:!1}},created:function(){var t=this,e=this.$store.getters["cart/cartProducts"],r=this.$store.getters["wishlist/wishlist"];if(this.product){var c=e.find((function(e){return e.id==t.product.id}));c&&(this.quantity=c.quantity);var o=r.find((function(e){return e.id==t.product.id}));o&&(this.wishlisted=o.wishlisted)}},computed:{sale:function(){return this.product.sale_price?Math.ceil(this.product.sale_price/this.product.regular_price*100):null},productName:function(){var t=this.product.name;return t.length>30?t.substr(0,30)+"...":t},shortDescription:function(){var desc=this.product.short_description;return desc.length>40?desc.substr(0,40)+"...":desc},locale:function(){return this.$store.getters["locale/locale"]},currSymbol:function(){return this.$store.getters["currency/symbol"]}},methods:{addToCart:function(){this.quantity++;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,quantity:this.quantity,price:this.product.sale_price?this.product.sale_price:this.product.regular_price,vendorId:this.product.vendor_id};console.log("quantity >>>>>>>> ",this.quantity),this.$store.dispatch("cart/addOrUpdateCartProduct",t),console.log(this.$store.getters["cart/cartProducts"]),console.log("total >> ",this.$store.getters["cart/totalQuantity"]),this.$store.getters["auth/isAuthenticated"]&&1==this.quantity?this.$store.dispatch("cart/saveCartProduct",t):this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/updateCartProduct",t)},removeFromCart:function(){this.quantity--;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,quantity:this.quantity,price:this.product.sale_price?this.product.sale_price:this.product.regular_price,vendorId:this.product.vendor_id};0==this.quantity?(this.$store.dispatch("cart/removeCartProduct",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/deleteCartProduct",t.id)):(this.$store.dispatch("cart/addOrUpdateCartProduct",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/updateCartProduct",t)),console.log(this.$store.getters["cart/cartProducts"]),console.log("total >> ",this.$store.getters["cart/totalQuantity"])},deleteProduct:function(){console.log("delete"),this.quantity=0;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,quantity:this.quantity,price:this.product.sale_price?this.product.sale_price:this.product.regular_price,vendorId:this.product.vendor_id};console.log("delete product >> ",t),this.$store.dispatch("cart/removeCartProduct",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("cart/deleteCartProduct",t.id)},singleProduct:function(t){console.log("one product >>> ",t),this.$store.commit("setSingleProduct",t)},addToWishlist:function(){this.wishlisted=!this.wishlisted;var t={id:this.product.id,name:this.product.name,imageUrl:this.product.image_url,regularPrice:this.product.regular_price,salePrice:this.product.sale_price,stockStatus:+this.product.stock_status,vendorId:this.product.vendor_id,wishlisted:this.wishlisted};1==this.wishlisted?(this.$store.dispatch("wishlist/addToWishlist",t),console.log("wishlist ",this.$store.getters["wishlist/wishlist"]),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("wishlist/saveToWishlist",this.product.id)):(this.$store.dispatch("wishlist/removeFromWishlist",t),this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("wishlist/deleteFromWishlist",this.product.id))}}},o=r(39),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.product&&!t.product.deleted_at?r("div",{staticClass:"product"},[r("div",{staticClass:"product-container"},[t.product.vendor_details?r("div",{staticClass:"vendor-img"},[r("img",{attrs:{src:t.product.vendor_details.image_url,alt:""}})]):t._e(),t._v(" "),t.sale?r("div",{staticClass:"sale"},[r("span",[t._v(t._s(100-t.sale)+"%")])]):t._e(),t._v(" "),r("div",{staticClass:"card"},[r("nuxt-link",{attrs:{to:"/"+t.locale+"/services/store/product/"+t.product.id+"/"+t.product.name}},[r("div",{staticClass:"card-hover"},[r("div",{staticClass:"product-img"},[r("img",{staticClass:"card-img-top",attrs:{src:t.product.image_url,alt:"..."}})]),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"info"},[r("div",{staticClass:"rate"},[r("span",[t._v(t._s(t.product.total_rates))]),t._v(" "),r("img",{attrs:{src:"/images/icons/svg/vendor-star.svg",alt:""}})]),t._v(" "),r("div",{staticClass:"price"},[t.product.sale_price?r("span",{staticClass:"discount"},[t._v(t._s(t.currSymbol)+t._s(t.product.regular_price))]):t._e(),t._v(" "),r("span",{staticClass:"original"},[t._v(t._s(t.currSymbol)+t._s(t.product.sale_price?t.product.sale_price:t.product.regular_price))])])]),t._v(" "),r("h6",[t._v(t._s(t.productName))]),t._v(" "),r("p",[t._v(t._s(t.shortDescription))])])])]),t._v(" "),r("div",{staticClass:"actions"},[r("div",{staticClass:"row no-gutters actions-container"},[r("div",{staticClass:"col-6 wishlist-btn",class:{"hide-btn":t.quantity},on:{click:t.addToWishlist}},[t.wishlisted?t._e():r("img",{attrs:{src:"/images/icons/svg/heart-empty.svg",alt:""}}),t._v(" "),t.wishlisted?r("img",{attrs:{src:"/images/icons/svg/heart-filled.svg",alt:""}}):t._e(),t._v(" "),r("span",[t._v(t._s(t.$t("single_product.wishlist_button")))])]),t._v(" "),+t.product.stock_status?[r("div",{staticClass:"col-6 add-cart-btn",class:{"hide-btn":t.quantity>0},on:{click:t.addToCart}},[r("img",{attrs:{src:"/images/icons/svg/shopping-bag.svg",alt:""}}),t._v(" "),r("span",[t._v(t._s(t.$t("single_product.add_button")))])]),t._v(" "),r("div",{staticClass:"col-12 control",class:{hide:0==t.quantity}},[r("div",{staticClass:"row no-gutters"},[r("div",{staticClass:"col-10"},[r("div",{staticClass:"quantity"},[r("span",{staticClass:"minus",on:{click:t.removeFromCart}},[t._v("-")]),t._v(" "),r("span",{staticClass:"count"},[t._v(t._s(t.quantity))]),t._v(" "),r("span",{staticClass:"plus",on:{click:t.addToCart}},[t._v("+")])])]),t._v(" "),r("div",{staticClass:"col-2",on:{click:t.deleteProduct}},[t._m(1)])])])]:r("div",{staticClass:"col-6"},[t._m(0)])],2)])],1)])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"out-stock"},[e("span",[this._v("OUT OF STOCK")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"remove"},[e("img",{attrs:{src:"/images/icons/svg/icon-remove.svg",alt:""}})])}],!1,null,null,null);e.a=component.exports},630:function(t,e,r){"use strict";r.r(e);r(15);var c=r(34),o=(r(58),r(21)),n=r(16),d=r.n(n),l={components:{appSingleProduct:r(482).a},data:function(){return{products:[],allowToGetMore:!0,noMore:!1,loading:{seeMore:!1}}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/my/products/store/".concat(t.$route.params.restaurantId,"/type/restaurant/skip/0/take/5"));case 3:r=e.sent,console.log("products cat .> ",r.data.data),t.products=r.data.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},computed:{locale:function(){return this.$store.getters["locale/locale"]}},methods:{handleScroll:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,n,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=window.scrollY,o=document.body.scrollHeight,n=window.innerHeight,!(Math.floor(r-(o-n))<1&&Math.floor(r-(o-n))>-10)){t.next=20;break}if(!e.allowToGetMore||e.noMore){t.next=20;break}return e.allowToGetMore=!1,t.prev=6,e.loading.seeMore=!0,t.next=10,d.a.get("/my/products/store/".concat(e.$route.params.restaurantId,"/type/restaurant/skip/").concat(e.products.length,"/take/6"));case 10:l=t.sent,e.products=[].concat(Object(c.a)(e.products),Object(c.a)(l.data.data)),e.loading.seeMore=!1,e.allowToGetMore=!0,l.data.data.length<1&&(e.noMore=!0),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),console.log(t.t0.response);case 20:case"end":return t.stop()}}),t,null,[[6,17]])})))()}},created:function(){window.addEventListener("scroll",this.handleScroll)}},h=r(39),component=Object(h.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"store"},[r("div",{staticClass:"container"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("nuxt-link",{attrs:{to:"/"}},[t._v(t._s(t.$t("subnav.home")))])],1),t._v(" "),r("li",{staticClass:"breadcrumb-item"},[r("nuxt-link",{attrs:{to:"/"+t.locale+"/services/"}},[t._v(t._s(t.$t("subnav.service")))])],1),t._v(" "),r("li",{staticClass:"breadcrumb-item"},[r("nuxt-link",{attrs:{to:{name:"locale-services-restaurants"}}},[t._v(t._s(t.$t("subnav.restaurant")))])],1),t._v(" "),r("li",{staticClass:"breadcrumb-item"},[r("nuxt-link",{attrs:{to:{name:"locale-services-restaurant-restaurantId-restaurantName",params:{restaurantId:t.$route.params.restaurantId,restaurantName:t.$route.params.restaurantName}}}},[t._v(t._s(t.$route.params.restaurantName))])],1),t._v(" "),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("More Meals")])])]),t._v(" "),r("div",{staticClass:"row"},t._l(t.products,(function(t,e){return r("div",{key:e,staticClass:"col-4 mt-4"},[r("app-single-product",{attrs:{product:t}})],1)})),0),t._v(" "),t.loading.seeMore?r("div",{staticClass:"text-center mt-4"},[r("b-spinner",{staticClass:"spinner-primary",attrs:{variant:"default",large:"",type:"grow"}})],1):t._e()])])}),[],!1,null,null,null);e.default=component.exports}}]);