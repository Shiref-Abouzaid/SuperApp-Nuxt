(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{608:function(t,e,o){"use strict";o.r(e);o(6),o(59),o(64),o(15),o(61),o(18),o(24),o(22),o(25),o(54),o(60),o(58);var n=o(21),r=o(16),c=o.n(r);function l(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return c=t.done,t},e:function(t){l=!0,r=t},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw r}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var d={data:function(){return{tech:{},rate:0,comment:"",reviews:[],loading:{getMoreReviews:!1},hideShowMoreReviews:!1,reserveDate:null,workshopId:null,professionId:null,swiperOption:{slidesPerView:4,spaceBetween:30,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}},computed:{currSymbol:function(){return this.$store.getters["currency/symbol"]},locale:function(){return this.$store.getters["locale/locale"]}},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("my/technicians/"+t.$route.params.professionalId);case 2:o=e.sent,console.log("profession >> ",o.data.data),t.tech=o.data.data,t.reviews=t.tech.rate;case 6:case"end":return e.stop()}}),e)})))()},methods:{getMoreReviews:function(t,e){var o=this;this.loading.getMoreReviews=!0,c.a.get("my/technicians/".concat(this.$route.params.professionalId,"/rating/skip/").concat(t,"/take/").concat(e)).then((function(t){o.loading.getMoreReviews=!1;var e,n=l(t.data.data);try{for(n.s();!(e=n.n()).done;){var i=e.value;o.reviews.push(i)}}catch(t){n.e(t)}finally{n.f()}t.data.data.length<5&&(o.hideShowMoreReviews=!0)})).catch((function(){o.loading.getMoreReviews=!1}))},dateDisabled:function(t,e){var o=e.getDay();e.getDate();return o!==this.weekday},onConfirm:function(){if(console.log("confirm",this.reserveDate),null!=this.reserveDate){var t={user_id:this.$store.getters["auth/userId"],datetime:this.reserveDate,technician_id:this.tech.id,workshop_id:this.professionId};console.log("rese >> ",t),c.a.post("/tech-appointments",t).then((function(t){console.log("res >> ",t)})).catch((function(t){console.log(t)})),this.$bvModal.hide("book-date"),this.reserveDate=null}},onBook:function(t,e){this.$store.getters["auth/isAuthenticated"]?(this.$bvModal.show("book-date"),this.professionId=t,console.log(t),this.weekday=e):this.$bvModal.show("popup-login")},setRating:function(t){console.log(t),this.rate=t},saveComment:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("comment"),!t.$store.getters["auth/isAuthenticated"]){e.next=14;break}return o=t.$store.getters["auth/userId"],e.next=5,c.a.get("/users/"+o);case 5:n=e.sent,console.log("user >> ",n.data.data),r={rate:t.rate,created_at:(new Date).toDateString(),comment:t.comment,user:{first_name:n.data.data.first_name,last_name:n.data.data.last_name,image_url:n.data.data.user_details?n.data.data.user_details.image_url:"https://orbitermag.com/wp-content/uploads/2017/03/default-user-image-300x300.png"}},t.reviews.unshift(r),console.log("reviews >> ",t.reviews),l={rate:t.rate,user_id:o,object_id:t.$route.params.professionalId,object_name:"technician",comment:t.comment},c.a.post("/rates",l).then((function(e){console.log(e),t.rate=0,t.comment="",t.showComment=!1})).catch((function(t){console.log(t)})),e.next=15;break;case 14:t.$bvModal.show("popup-login");case 15:case"end":return e.stop()}}),e)})))()}}},_=o(39),component=Object(_.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"profession-page"},[o("div",{staticClass:"container"},[o("nav",{attrs:{"aria-label":"breadcrumb"}},[o("ol",{staticClass:"breadcrumb"},[o("li",{staticClass:"breadcrumb-item"},[o("nuxt-link",{attrs:{to:"/"}},[t._v(t._s(t.$t("subnav.home")))])],1),t._v(" "),o("li",{staticClass:"breadcrumb-item"},[o("nuxt-link",{attrs:{to:"/"+t.locale+"/services/"}},[t._v(t._s(t.$t("subnav.service")))])],1),t._v(" "),o("li",{staticClass:"breadcrumb-item"},[o("nuxt-link",{attrs:{to:{name:"locale-services-professions"}}},[t._v(t._s(t.$t("subnav.profession")))])],1),t._v(" "),o("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.$route.params.professionalName))])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-8"},[t.tech?o("div",{staticClass:"doctor-info"},[o("div",{staticClass:"info"},[o("div",{staticClass:"doctor-img"},[o("img",{attrs:{src:t.tech.image_url,alt:""}})]),t._v(" "),o("div",{staticClass:"title"},[o("h4",[t._v(t._s(t.tech.first_name)+" "+t._s(t.tech.last_name))]),t._v(" "),o("span",[t._v(t._s(t.tech.category))])]),t._v(" "),o("div",{staticClass:"rate"},[o("div",{staticClass:"rate-box"},[o("span",[t._v(t._s(t.tech.total_rates))]),t._v(" "),o("img",{attrs:{src:"/images/icons/svg/vendor-star.svg",alt:""}})])])]),t._v(" "),o("p",[t._v(t._s(t.tech.description))])]):t._e(),t._v(" "),t._l(t.tech.workshops,(function(e){return o("div",{key:e.id,staticClass:"clinic"},[o("h3",[t._v(t._s(e.title))]),t._v(" "),o("div",{staticClass:"clinic-contacts"},[o("div",{staticClass:"contacts"},[o("div",{staticClass:"row"},[e.phone?o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"contact"},[o("img",{attrs:{src:"/images/icons/svg/phone.svg",alt:""}}),t._v(" "),o("p",[t._v(t._s(e.phone))])])]):t._e(),t._v(" "),e.email?o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"contact"},[o("img",{staticClass:"mail",attrs:{src:"/images/icons/svg/mail.svg",alt:""}}),t._v(" "),o("p",[t._v(t._s(e.email))])])]):t._e(),t._v(" "),e.address?o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"contact"},[o("img",{attrs:{src:"/images/icons/svg/location.svg",alt:""}}),t._v(" "),o("p",{staticClass:"location"},[t._v(t._s(e.address))])])]):t._e()])])]),t._v(" "),o("div",{staticClass:"appointments"},[o("div",{directives:[{name:"swiper",rawName:"v-swiper",value:t.swiperOption,expression:"swiperOption"}],staticClass:"swiper arrow-secondary",attrs:{"instance-name":"mySwiper"+e}},[o("div",{staticClass:"swiper-wrapper"},[e.saturday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v(t._s(t.$t("days.saturday")))]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_from)+" - "+t._s(e.open_to))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,6)}}},[t._v("\n                                               "+t._s(t.$t("professions.book_button"))+"\n                                            ")])])]):t._e(),t._v(" "),e.sunday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v(t._s(t.$t("days.sunday")))]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_from)+" - "+t._s(e.open_to))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,0)}}},[t._v("\n                                                "+t._s(t.$t("professions.book_button"))+"\n                                            ")])])]):t._e(),t._v(" "),e.monday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v(t._s(t.$t("days.monday")))]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_from)+" - "+t._s(e.open_to))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,1)}}},[t._v("\n                                                "+t._s(t.$t("professions.book_button"))+"\n                                            ")])])]):t._e(),t._v(" "),e.tuesday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v(t._s(t.$t("days.tuesday")))]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_from)+" - "+t._s(e.open_to))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,2)}}},[t._v("\n                                                "+t._s(t.$t("professions.book_button"))+"\n                                            ")])])]):t._e(),t._v(" "),e.wednesday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v(t._s(t.$t("days.wednesday")))]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_from)+" - "+t._s(e.open_to))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,3)}}},[t._v("\n                                                "+t._s(t.$t("professions.book_button"))+"\n                                            ")])])]):t._e(),t._v(" "),e.thursday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v(t._s(t.$t("days.thursday")))]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_from)+" - "+t._s(e.open_to))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,4)}}},[t._v("\n                                                "+t._s(t.$t("professions.book_button"))+"\n                                            ")])])]):t._e(),t._v(" "),e.friday?o("div",{staticClass:"swiper-slide"},[o("div",{staticClass:"appointment"},[o("div",{staticClass:"info"},[o("p",{staticClass:"day"},[t._v(t._s(t.$t("days.friday")))]),t._v(" "),o("p",{staticClass:"time"},[t._v(t._s(e.open_from)+" - "+t._s(e.open_to))])]),t._v(" "),o("div",{staticClass:"book",on:{click:function(o){return t.onBook(e.id,5)}}},[t._v("\n                                                "+t._s(t.$t("professions.book_button"))+"\n                                            ")])])]):t._e()]),t._v(" "),o("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"},[o("img",{staticStyle:{transform:"rotate(180deg)"},attrs:{src:"/images/icons/svg/offers-arrow.svg",alt:""}})]),t._v(" "),o("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"},[o("img",{attrs:{src:"/images/icons/svg/offers-arrow.svg",alt:""}})])])])])})),t._v(" "),o("div",{staticClass:"reviews"},[o("div",{staticClass:"add-review"},[o("h4",[t._v(t._s(t.$t("review.add_review")))]),t._v(" "),o("div",{staticClass:"row no-gutters"},[o("div",{staticClass:"col-3"},[o("h6",[t._v(t._s(t.$t("review.your_review")))])]),t._v(" "),o("div",{staticClass:"col-9"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",attrs:{id:"review",rows:"4"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row no-gutters"},[o("div",{staticClass:"col-3 d-flex align-items-center"},[o("h6",[t._v(t._s(t.$t("review.rating")))])]),t._v(" "),o("div",{staticClass:"col-9"},[o("client-only",[o("star-rating",{attrs:{rating:t.rate,increment:.5,"active-color":"#FFD506","show-rating":!1,"star-size":20,padding:.9},on:{"rating-selected":t.setRating}})],1)],1)]),t._v(" "),o("div",{staticClass:"row no-gutters"},[o("div",{staticClass:"col-3"}),t._v(" "),o("div",{staticClass:"col-9"},[o("button",{staticClass:"btn",on:{click:t.saveComment}},[t._v(t._s(t.$t("professions.submit")))])])])]),t._v(" "),o("hr"),t._v(" "),o("div",{staticClass:"prev-reviews"},[o("h4",[t._v(t._s(t.$t("professions.previous_review")))]),t._v(" "),t.reviews&&t.reviews.length>0?t._l(t.reviews,(function(e){return o("div",{key:e.id,staticClass:"row no-gutters review"},[o("div",{staticClass:"col-3"},[o("client-only",[o("star-rating",{attrs:{rating:e.rate,increment:.5,"read-only":!0,"active-color":"#FFD506","show-rating":!1,"star-size":20,padding:.9}})],1),t._v(" "),o("h6",[t._v(t._s(e.user.first_name)+" "+t._s(e.user.last_name))]),t._v(" "),o("span",{staticClass:"time"},[t._v(t._s(t._f("moment")(e.created_at,"from","now")))])],1),t._v(" "),o("div",{staticClass:"col-9"},[o("div",{staticClass:"comment"},[o("p",[t._v(t._s(e.comment))])])])])})):t._e(),t._v(" "),t.hideShowMoreReviews?t._e():o("div",{staticClass:"more"},[o("p",{on:{click:function(e){return t.getMoreReviews(t.reviews.length,5)}}},[t.loading.getMoreReviews?o("b-spinner",{staticClass:"spinner-primary",attrs:{small:""}}):t._e(),t._v(" "+t._s(t.$t("professions.more_review")))],1)])],2)])],2),t._v(" "),o("div",{staticClass:"col-sm-4"},[o("div",{staticClass:"doctor-contacts"},[o("div",{staticClass:"contacts"},[t.tech.phone?o("div",{staticClass:"row no-gutters"},[t._m(0),t._v(" "),o("div",{staticClass:"col-1"}),t._v(" "),o("div",{staticClass:"col-10"},[o("p",[t._v(t._s(t.tech.phone))])])]):t._e(),t._v(" "),t.tech.email?o("div",{staticClass:"row no-gutters"},[t._m(1),t._v(" "),o("div",{staticClass:"col-1"}),t._v(" "),o("div",{staticClass:"col-10"},[o("p",[t._v(t._s(t.tech.email))])])]):t._e(),t._v(" "),t.tech.address?o("div",{staticClass:"row no-gutters"},[t._m(2),t._v(" "),o("div",{staticClass:"col-1"}),t._v(" "),o("div",{staticClass:"col-10"},[o("p",[t._v(t._s(t.tech.address))])])]):t._e()])])])]),t._v(" "),o("b-modal",{attrs:{id:"book-date",centered:"","hide-header":!0,"hide-footer":!0,title:"Choose date"}},[o("div",{staticClass:"calendar-book"},[o("b-calendar",{attrs:{"date-disabled-fn":t.dateDisabled,block:"",locale:"en-US"},model:{value:t.reserveDate,callback:function(e){t.reserveDate=e},expression:"reserveDate"}}),t._v(" "),o("div",{staticClass:"select-btn"},[o("button",{staticClass:"btn",on:{click:t.onConfirm}},[t._v(t._s(t.$t("professions.select_date")))])])],1)])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("img",{attrs:{src:"/images/icons/svg/phone.svg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("img",{staticClass:"mail",attrs:{src:"/images/icons/svg/mail.svg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("img",{attrs:{src:"/images/icons/svg/location.svg",alt:""}})])}],!1,null,null,null);e.default=component.exports}}]);